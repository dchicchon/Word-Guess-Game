<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Psychic Game</title>
  </head>
  <body>
    <div class="container">
      <h1>Psychic Game</h1>
      <p>Guess the letter that I am thinking of</p>
      <p>Wins: <span id ='player-wins'>Nothing Yet</span></p>
      <p>Losses: <span id = 'player-losses'>Nothing Yet</span></p>
      <p>Guesses Left: <span id ='guess-left'>Nothing Yet</span></p>
      <p>Guesses so far: <span id = 'guess-made'>Nothing Yet</span></p>
    </div>


    <!-- Optional JavaScript -->
    <script>
    var playerWins = document.getElementById('player-wins'); 
    var playerLosses = document.getElementById('player-losses');
    var guessLeft = document.getElementById('guess-left');
    var guessMade = document.getElementById('guess-made')

    var alphabet = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','q','r','s','t','u','v','w','x','y','z'];

    var wins = 0;
    var losses = 0;
    var left = 10;
    var compSelect;
    var made = [] 

    function reset() {
      compSelect = alphabet[Math.floor(Math.random() * alphabet.length)];
      left = 10;
      made = [];
      guessLeft.textContent = left;
      guessMade.textContent = made;
    }

    // The computer selects an random indice within the variable alphabet using the Math.random function
    // We multiply the length of the alphabet with Math.random to pick an indice and Math.floor with round down
    // the number that we get back. 
    
    compSelect = alphabet[Math.floor(Math.random() * alphabet.length)];

    // .onkeyup is assigned a function 'event' so that when a key is pressed, we add that key to the array 'made'.
    // guess.Made is assigned the value of the list made to get the content of made into the html.
    document.onkeyup = function(event) {
      made.push(event.key)
      guessMade.textContent = made
      console.log(compSelect);

      // Here I create the win-condition that is if the event.key equals the randomly selected letter by compSelect, then the number of wins increases by 1. We then assign wins to the playerWins.textContent to write the number of wins onto the HTML. We also reset the guesses left, guesses made, and the indice assigned to compSelect.

      if (event.key === compSelect) {
        console.log('You win');
        wins++;
        playerWins.textContent = wins;
        reset();
      }
      else {
        left--
        guessLeft.textContent = left
        if (left === 0) {
          console.log('You lose!');
          losses++
          playerLosses.textContent = losses;
          reset()
        }
      }
    }


    </script>
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>